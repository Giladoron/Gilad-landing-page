@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html {
    scroll-behavior: smooth;
    overflow-x: hidden;
    scroll-padding-top: 0; 
    /* Snap strictness - Relaxed to proximity for better UX */
    scroll-snap-type: y proximity;
    height: 100%;
  }
  
  body {
    @apply bg-brandDark text-white font-sans;
    overflow-x: hidden;
    height: 100%;
  }

  h1, h2, h3, h4, h5, h6 {
    text-shadow: 0 2px 8px rgba(0, 0, 0, 0.5);
  }

  .heading-font {
    font-family: 'Montserrat', sans-serif;
    text-shadow: 0 2px 8px rgba(0, 0, 0, 0.5);
  }
}

@layer utilities {
  .touch-scroll {
    -webkit-overflow-scrolling: touch;
    overscroll-behavior-y: auto;
  }

  .text-shadow-sm {
    text-shadow: 0 1px 4px rgba(0, 0, 0, 0.3);
  }

  /* Reveal Animations */
  .reveal {
    @apply opacity-0 translate-y-5 transition-all duration-[800ms] ease-out;
    will-change: opacity, transform;
  }

  .reveal.is-visible {
    @apply opacity-100 translate-y-0;
  }

  /* Custom Scrollbar */
  .custom-scrollbar::-webkit-scrollbar {
    width: 0px; /* Hide scrollbar for cleaner mobile look */
  }
  
  /* Carousel Utils */
  .carousel-snap {
    scroll-snap-align: center;
    scroll-snap-stop: always;
  }
  
  .carousel-container {
    overscroll-behavior-x: contain;
    touch-action: pan-x;
  }

  /* Safe Area Utilities for iPhone Notch/Home Bar */
  .pb-safe {
    padding-bottom: env(safe-area-inset-bottom);
  }
  .pt-safe {
    padding-top: env(safe-area-inset-top);
  }
  .h-dvh-safe {
    height: 100dvh;
  }
}

/* Animations */
@keyframes fadeInGuarantee {
  from { opacity: 0; }
  to { opacity: 1; }
}

.animate-fadeInGuarantee {
  animation: fadeInGuarantee 0.25s forwards;
}

/* Base styles for stage - Natural Scrolling */
.stage {
  @apply relative w-full flex flex-col;
  /* Relaxed constraint */
  min-height: 100dvh; 
  scroll-snap-align: start;
  scroll-snap-stop: normal;
  /* Flex centering to maintain vertical balance */
  justify-content: center;
  /* overflow: hidden; - Removed to allow natural content overflow */
}

/* Journey Rail - Fixed Right, Hidden on Mobile */
.journey-rail {
  position: fixed;
  right: 2rem;
  top: 50%;
  transform: translateY(-50%);
  display: flex;
  flex-direction: column;
  gap: 1rem;
  z-index: 40;
}

@media (max-width: 768px) {
  .journey-rail {
    display: none;
  }
}

.journey-dot {
  width: 0.75rem;
  height: 0.75rem;
  border-radius: 9999px;
  background-color: rgba(255, 255, 255, 0.2);
  transition: all 0.3s;
  cursor: pointer;
  position: relative;
}

.journey-dot:hover, .journey-dot.active {
  background-color: #FF6B35; /* Accent color */
  transform: scale(1.25);
}

.journey-tooltip {
  position: absolute;
  right: 1.5rem;
  top: 50%;
  transform: translateY(-50%) translateX(10px);
  background-color: rgba(0, 0, 0, 0.8);
  padding: 0.25rem 0.5rem;
  border-radius: 0.25rem;
  font-size: 0.75rem;
  white-space: nowrap;
  opacity: 0;
  transition: all 0.2s;
  pointer-events: none;
}

/* Global Parallax Background */
.global-parallax-bg {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: -1;
  background-image: url('/Gilad-landing-page/assets/backgrounds/bg-global-parallax.jpeg');
  background-size: cover;
  background-position: center;
  /* background-attachment: fixed; */ /* Disabled for better mobile support - position: fixed div is better */
}

/* Background Overlays - Modified for Global BG */
.hero-overlay {
  background-color: black;
  opacity: 0.55;
}
.reflection-overlay {
  background-color: black;
  opacity: 0.55;
}
.proof-overlay {
  background-color: black;
  opacity: 0.55;
}
.about-overlay {
  background-color: black;
  opacity: 0.55;
}
.get-overlay {
  background-color: black;
  opacity: 0.55;
}
.process-overlay {
  background-color: black;
  opacity: 0.55;
}
.waiting-overlay {
  background-color: black;
  opacity: 0.55;
}
.faq-overlay {
  background-color: black;
  opacity: 0.55;
}
.cta-overlay {
  background-color: black;
  opacity: 0.55;
}
.commitment-overlay {
  background-color: black;
  opacity: 0.55;
}

/* Small screen compaction utilities (iPhone SE) */
@media (max-height: 700px) {
  .compact-text {
    @apply text-sm !important;
  }
  .compact-heading {
    @apply text-xl !important;
  }
  .compact-gap {
    @apply gap-2 !important;
  }
  .compact-py {
    @apply py-2 !important;
  }
  .compact-hide {
    @apply hidden !important;
  }
}
